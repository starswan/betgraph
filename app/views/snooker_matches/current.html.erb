<!-- $Id$ -->
<div align="center"><h4><%= controller.action_name.titleize %> Matches</h4></div>
<!-- All divisions in this template, no specific one -->
<table class="table table-striped table-responsive">
   <tr><td><%= link_to_if((@offset and @offset >= @limit), '<<', :order => @order, :direction => params[:direction], :offset => @offset ? @offset - @limit : 0, :limit => @limit) %></th>
       <th>Division</th>
       <th>Involving</th>
       <th>Kickofftime</th>
       <th>Live Priced</th>
       <th colspan="2">Actions</th>
       <td align="right"><%= link_to '>>',  :order => @order, :direction => params[:direction], :offset => @offset ? @offset + @limit : 0, :limit => @limit %></th>
   </tr>

<% direction = @direction == 'desc' ? :asc : :desc %>
<% @matches.each_with_index do |match, offset| %>
  <tr id="<%= match.id %>">
    <td colspan="2"><%= match.division.name %></td>
    <td><%= match.teams.collect { |t| t.teamname } %></td>
    <td><%= link_to match.kickofftime.to_s(:kickoff).html_safe, polymorphic_url(match, order: "#{@order} #{@direction}", offset: @offset + offset) %></td>
    <td><%= match.live_priced ? 'Y' : 'N' %></td>

    <td><%= link_to 'Edit', edit_match_path(match), :class => 'btn btn-sm btn-outline-primary' %></td>
    <td>
       <%= link_to 'Delete',
                   match,
                   remote: true,
                   data: { :confirm => "Are you sure you want to delete #{match.name}?" },
                   method: :delete,
                   class: 'delete-match btn btn-sm btn-outline-danger' %>
    </td>
  </tr>
<% end %>
</table>
